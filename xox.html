<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>XOX Game</title>

<style>
    :root{
        --line: #4E9CE9;  
        --x: #E859A7;
        --o: #33CCCC;
        --bg: #FFF0CC;
    }

    body{
        display:flex;
        flex-direction:column;
        gap:20px;
        justify-content:center;
        align-items:center;
        min-height:100vh;
        background:#f0f0f0;
        font-family:Arial;
    }

    #turnLine{
        font-size:22px;
        font-weight:700;
        color:#333;
    }

    #resetBtn{
        padding:10px 20px;
        font-size:18px;
        border:none;
        background:#4E9CE9;
        color:white;
        border-radius:10px;
        cursor:pointer;
        font-weight:bold;
    }
    #resetBtn:hover{
        opacity:0.85;
    }

    .board{
        width:330px;
        height:330px;
        background:var(--bg);
        border:8px solid var(--line);
        border-radius:15px;
        display:grid;
        grid-template-columns:repeat(3,1fr);
        grid-template-rows:repeat(3,1fr);
        overflow:hidden;
        position:relative;
    }

    .cell{
        border:4px solid var(--line);
        display:flex;
        justify-content:center;
        align-items:center;
        font-size:70px;
        cursor:pointer;
        user-select:none;
        position:relative;
    }
    .cell:nth-child(1), .cell:nth-child(2), .cell:nth-child(3){ border-top:none; }
    .cell:nth-child(1), .cell:nth-child(4), .cell:nth-child(7){ border-left:none; }
    .cell:nth-child(3), .cell:nth-child(6), .cell:nth-child(9){ border-right:none; }
    .cell:nth-child(7), .cell:nth-child(8), .cell:nth-child(9){ border-bottom:none; }

    .cell.x { color:var(--x); }
    .cell.o { color:var(--o); }

    .cell.win::after{
        content:"";
        position:absolute;
        width:120%;
        height:10px;
        background:var(--line);
        left:-10%;
        top:50%;
        transform:translateY(-50%);
        border-radius:5px;
    }

    .vertical.win::after{
        width:10px;
        height:120%;
        left:50%;
        top:-10%;
        transform:translateX(-50%);
    }

    .diag1.win::after{
        transform:translateY(-50%) rotate(45deg);
    }

    .diag2.win::after{
        transform:translateY(-50%) rotate(-45deg);
    }
</style>
</head>

<body>

<div id="turnLine">Line: X</div>

<div class="board" id="board">
    <div class="cell" data-i="0"></div>
    <div class="cell" data-i="1"></div>
    <div class="cell" data-i="2"></div>
    <div class="cell" data-i="3"></div>
    <div class="cell" data-i="4"></div>
    <div class="cell" data-i="5"></div>
    <div class="cell" data-i="6"></div>
    <div class="cell" data-i="7"></div>
    <div class="cell" data-i="8"></div>
</div>

<button id="resetBtn">Restart Game</button>

<script>
const cells = document.querySelectorAll(".cell");
let turn = "x";
let game = ["","","","","","","","",""];
const turnLine = document.getElementById("turnLine");

const wins = [
    [0,1,2,"h"],
    [3,4,5,"h"],
    [6,7,8,"h"],
    [0,3,6,"v"],
    [1,4,7,"v"],
    [2,5,8,"v"],
    [0,4,8,"d1"],
    [2,4,6,"d2"]
];

// TIKLAMA
cells.forEach(cell=>{
    cell.addEventListener("click",()=>{
        const i = cell.dataset.i;
        if(game[i] || check()) return;

        game[i] = turn;
        cell.classList.add(turn);
        cell.textContent = turn.toUpperCase();

        let w = check();
        if(w){
            const [a,b,c,type] = w;
            [a,b,c].forEach(i=>{
                cells[i].classList.add("win");
                if(type==="v") cells[i].classList.add("vertical");
                if(type==="d1") cells[i].classList.add("diag1");
                if(type==="d2") cells[i].classList.add("diag2");
            });

            turnLine.textContent = `Winner: ${turn.toUpperCase()}`;
            return;
        }

        turn = turn === "x" ? "o" : "x";
        turnLine.textContent = `Line: ${turn.toUpperCase()}`;
    });
});

function check(){
    for(let w of wins){
        const [a,b,c] = w;
        if(game[a] && game[a]===game[b] && game[b]===game[c]){
            return w;
        }
    }
    return null;
}


document.getElementById("resetBtn").addEventListener("click",()=>{
    game = ["","","","","","","","",""];
    turn = "x";
    turnLine.textContent = "Line: X";

    cells.forEach(cell=>{
        cell.textContent = "";
        cell.className = "cell"; // tüm sınıfları resetle
    });
});
</script>

</body>
</html>